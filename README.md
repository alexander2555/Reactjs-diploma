# Result University Diploma Project | Web Collage App

### Сущности

- _Пользователь_ - администратор, мастер, пользователь, гость;
- _Роль_ - роль пользователя, определяющая его права;
- _Документ_ - коллаж, состоящий из графических элементов, имеющий владельца и редактора, может быть публичным;
- _Элемент_ - элемент графики, загружаемый пользователем, может быть публичным или приватным.

### Роли:

- _**Администратор**_: создание/удаление/редактирование пользователей, документов, назначение редакторов, публикация;
- _**Мастер**_: создание/редактирование документов, назначение редакторов собственных документов, публикация документов (public/private), загрузка/редактирование графики;
- _**Клиент**_: редактирование документов с правом на редактирование, просмотр публичных документов, загрузка/редактирование графики;
- _**Гость**_: просмотр публичных документов.

---

### Таблицы БД

| Название      | Поля                                                     | Описание                      |
| ------------- | -------------------------------------------------------- | ----------------------------- |
| **users**     | id, login, password, reg_at, role_id                     | Пользователи                  |
| **roles**     | id, name                                                 | Роли пользователей            |
| **documents** | id, title, created_at, owner_id, editor_id, public       | Документы (коллажи)           |
| **elements**  | id, title, url, uploaded_at, owner_id, public, props - ? | Элементы (графика)            |
| **doc_el**    | id, doc_id, el_id, props                                 | Связь документов с элементами |
| **sessions**  | id, user_id, token, created_at, expires_at               | Сессии пользователей          |

---

### Схемы состояний

_Сервер_:

- сессия польз-ля

_Стор на клиенте_:

- пользователь - user: id, login, role
- документы - document[]: id, title, createdAt, ownerId, editorId, public
- текущий документ - document: id, title, createdAt, ownerId, editorId, public, element[]: id, props
- элементы - graphics[]: id, title, url, uploadedAt, public, ownerId, props - ?
- роли - role[]: id, name

---

### ToDo:

1. Продумать схему создания элементов графики:

- загрузка файла + доп. свойства (props)

---

&copy; 2025 Alexander Mamontov
